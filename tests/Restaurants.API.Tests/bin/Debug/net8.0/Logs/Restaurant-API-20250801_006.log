{"@t":"2025-08-01T19:19:16.1269762Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-08-01T19:19:16.1380803Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"0","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-08-01T19:19:16.1409019Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-08-01T19:19:16.1987569Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"b9d27d8167ebf52aeeedfa608fc71029","@sp":"a202773f9401c3ab","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNEH616V76KI","RequestPath":"/api/restaurants/1234"}
{"@t":"2025-08-01T19:19:16.2104203Z","@mt":"Get restaurant: {RestaurantId}","@tr":"b9d27d8167ebf52aeeedfa608fc71029","@sp":"a202773f9401c3ab","RestaurantId":1234,"SourceContext":"Restaurants.Application.Restaurants.Queries.GetRestaurantById.GetRestaurantByIdQueryHandler","ActionId":"ecd371ce-0dcb-47a2-8743-66e5a67f017c","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetById (Restaurants.API)","RequestId":"0HNEH616V76KI","RequestPath":"/api/restaurants/1234"}
{"@t":"2025-08-01T19:19:16.2132301Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["14.8169"],"@l":"Error","@x":"Restaurants.Domain.Exceptions.NotFoundException: Restaurante con id 1234 no existe\r\n   at Restaurants.Application.Restaurants.Queries.GetRestaurantById.GetRestaurantByIdQueryHandler.Handle(GetRestaurantByIdQuery request, CancellationToken cancellationToken) in C:\\Users\\UserNew\\Documents\\Test\\Net8_RestaurantAPI\\src\\Restaurants.Application\\Restaurants\\Queries\\GetRestaurantById\\GetRestaurantByIdQueryHandler.cs:line 17\r\n   at Restaurants.API.Controllers.RestaurantsController.GetById(Int32 id) in C:\\Users\\UserNew\\Documents\\Test\\Net8_RestaurantAPI\\src\\Restaurants.API\\Controllers\\RestaurantsController.cs:line 34\r\n   at lambda_method132(Closure, Object)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"b9d27d8167ebf52aeeedfa608fc71029","@sp":"a202773f9401c3ab","RequestMethod":"GET","RequestPath":"/api/restaurants/1234","StatusCode":500,"Elapsed":14.8169,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-01T19:19:16.2225503Z","@mt":"Restaurante con id 1234 no existe","@l":"Warning","@tr":"b9d27d8167ebf52aeeedfa608fc71029","@sp":"a202773f9401c3ab","SourceContext":"Restaurants.API.Middlewares.ErrorHandlingMiddleware","RequestId":"0HNEH616V76KI","RequestPath":"/api/restaurants/1234"}
