{"@t":"2025-08-04T15:32:12.1629413Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-08-04T15:32:12.7681160Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-08-04T15:32:12.8254773Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-08-04T15:32:14.8793029Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"85","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-08-04T15:32:16.2377482Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"54","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-08-04T15:32:16.3496913Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"19","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-08-04T15:32:30.3917660Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["28.1194"],"@tr":"5cd7329970ddbd7ab915e47244ca66a4","@sp":"fad9cf206f4ae932","RequestMethod":"GET","RequestPath":"/swagger","StatusCode":301,"Elapsed":28.1194,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:32:30.9026236Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["348.3927"],"@tr":"caaa696c58d2b303a0e48097b3d1502a","@sp":"8069101bf8015894","RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":348.3927,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:32:31.0967029Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["42.7582"],"@tr":"3be6715f0fcf37cafbd585261bb835fd","@sp":"37f26262870ea905","RequestMethod":"GET","RequestPath":"/swagger/index.js","StatusCode":200,"Elapsed":42.7582,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:32:31.3312440Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["294.8005"],"@tr":"2a9a10e2548491fb80be39c2e0cb6053","@sp":"e6da2807f726ec1b","RequestMethod":"GET","RequestPath":"/swagger/index.css","StatusCode":200,"Elapsed":294.8005,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:32:31.4787821Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["429.2106"],"@tr":"2bdf2baef11fbbfbb3fb75ee54d68e74","@sp":"951200e6d4e9c520","RequestMethod":"GET","RequestPath":"/swagger/swagger-ui-standalone-preset.js","StatusCode":200,"Elapsed":429.2106,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:32:31.5604774Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["523.7337"],"@tr":"7c291fdac98f43f2a5e23c224b7e0038","@sp":"c86067644cde73d5","RequestMethod":"GET","RequestPath":"/swagger/swagger-ui-bundle.js","StatusCode":200,"Elapsed":523.7337,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:32:31.4787821Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["442.5183"],"@tr":"f5977e381aba8a878361099efa518733","@sp":"c484b720194d3503","RequestMethod":"GET","RequestPath":"/swagger/swagger-ui.css","StatusCode":200,"Elapsed":442.5183,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:32:32.5534865Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["54.6465"],"@tr":"92148a70e3a2627b0a1b47f536b356bc","@sp":"31fc61c28b2f6ca9","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":54.6465,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:33:56.9786304Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"2bf4e2d2045e488608f334e2da3bea6c","@sp":"36bdd19831d3e472","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNEJDGCETIUC:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HNEJDGCETIUC"}
{"@t":"2025-08-04T15:33:57.5415123Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2bf4e2d2045e488608f334e2da3bea6c","@sp":"36bdd19831d3e472","elapsed":"134","parameters":"@__normalizedUserName_0='OWNER2@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNEJDGCETIUC:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HNEJDGCETIUC"}
{"@t":"2025-08-04T15:33:58.0475543Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2bf4e2d2045e488608f334e2da3bea6c","@sp":"36bdd19831d3e472","elapsed":"4","parameters":"@__user_Id_0='5bfc696f-a728-4db0-866f-65b3697001ce' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNEJDGCETIUC:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HNEJDGCETIUC"}
{"@t":"2025-08-04T15:33:58.1027291Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2bf4e2d2045e488608f334e2da3bea6c","@sp":"36bdd19831d3e472","elapsed":"7","parameters":"@__userId_0='5bfc696f-a728-4db0-866f-65b3697001ce' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNEJDGCETIUC:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HNEJDGCETIUC"}
{"@t":"2025-08-04T15:33:58.1299190Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2bf4e2d2045e488608f334e2da3bea6c","@sp":"36bdd19831d3e472","elapsed":"6","parameters":"@__normalizedName_0='OWNER' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNEJDGCETIUC:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HNEJDGCETIUC"}
{"@t":"2025-08-04T15:33:58.1755087Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"2bf4e2d2045e488608f334e2da3bea6c","@sp":"36bdd19831d3e472","elapsed":"5","parameters":"@__role_Id_0='84fff6e3-06b7-481e-a096-5f1eb8b59366' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[ClaimType], [a].[ClaimValue]\r\nFROM [AspNetRoleClaims] AS [a]\r\nWHERE [a].[RoleId] = @__role_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HNEJDGCETIUC:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HNEJDGCETIUC"}
{"@t":"2025-08-04T15:33:58.2247583Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1248.6816"],"@tr":"2bf4e2d2045e488608f334e2da3bea6c","@sp":"36bdd19831d3e472","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":1248.6816,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:34:09.2879169Z","@mt":"Getting all restaurants","@tr":"d96cb724dcd1ce94ed0ee3320a89cabd","@sp":"fb33e084c4422493","SourceContext":"Restaurants.Application.Restaurants.Queries.GetAllRestaurants.GetAllRestaurantsQueryHandler","ActionId":"d6d37295-a5d0-45c7-9033-3104d5833e09","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetAll (Restaurants.API)","RequestId":"0HNEJDGCETIUC:00000002","RequestPath":"/api/restaurants","ConnectionId":"0HNEJDGCETIUC"}
{"@t":"2025-08-04T15:34:09.4436897Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"d96cb724dcd1ce94ed0ee3320a89cabd","@sp":"fb33e084c4422493","elapsed":"7","parameters":"@__searchPhraseLower_0_contains='%a%' (Size = 4000)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT COUNT(*)\r\nFROM [Restaurants] AS [r]\r\nWHERE LOWER([r].[Name]) LIKE @__searchPhraseLower_0_contains ESCAPE N'\\' OR LOWER([r].[Description]) LIKE @__searchPhraseLower_0_contains ESCAPE N'\\'","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6d37295-a5d0-45c7-9033-3104d5833e09","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetAll (Restaurants.API)","RequestId":"0HNEJDGCETIUC:00000002","RequestPath":"/api/restaurants","ConnectionId":"0HNEJDGCETIUC"}
{"@t":"2025-08-04T15:34:09.5094589Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"d96cb724dcd1ce94ed0ee3320a89cabd","@sp":"fb33e084c4422493","elapsed":"8","parameters":"@__searchPhraseLower_0_contains='%a%' (Size = 4000), @__p_1='0', @__p_2='5'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[OwnerId], [r].[Address_City], [r].[Address_PostalCode], [r].[Address_Street]\r\nFROM [Restaurants] AS [r]\r\nWHERE LOWER([r].[Name]) LIKE @__searchPhraseLower_0_contains ESCAPE N'\\' OR LOWER([r].[Description]) LIKE @__searchPhraseLower_0_contains ESCAPE N'\\'\r\nORDER BY [r].[Name] DESC\r\nOFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"d6d37295-a5d0-45c7-9033-3104d5833e09","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetAll (Restaurants.API)","RequestId":"0HNEJDGCETIUC:00000002","RequestPath":"/api/restaurants","ConnectionId":"0HNEJDGCETIUC"}
{"@t":"2025-08-04T15:34:09.6190172Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["666.9106"],"@tr":"d96cb724dcd1ce94ed0ee3320a89cabd","@sp":"fb33e084c4422493","RequestMethod":"GET","RequestPath":"/api/restaurants","StatusCode":200,"Elapsed":666.9106,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:34:18.4206944Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["13.5113"],"@tr":"63d29228559198c70930072bbbe9d58b","@sp":"8a11f463c5ff6e4a","RequestMethod":"GET","RequestPath":"/api/restaurants/21","StatusCode":401,"Elapsed":13.5113,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:34:31.5226199Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["8.4067"],"@tr":"b915fe7a615292b6653baef44ebc3488","@sp":"bda62e6f29ca2f7f","RequestMethod":"POST","RequestPath":"/api/restaurants/12/dishes","StatusCode":401,"Elapsed":8.4067,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-08-04T15:34:37.4999792Z","@mt":"El usuario no se ha autenticado","@l":"Warning","@tr":"efa3fda42f606ec4e293fd376c40f8c3","@sp":"8428d7b900cb2207","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HNEJDGCETIUC:00000005","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HNEJDGCETIUC"}
{"@t":"2025-08-04T15:34:37.5044506Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["8.1104"],"@tr":"efa3fda42f606ec4e293fd376c40f8c3","@sp":"8428d7b900cb2207","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":401,"Elapsed":8.1104,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
