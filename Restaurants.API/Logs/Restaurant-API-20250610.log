{"@t":"2025-06-10T16:36:42.1307952Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T16:36:42.2981014Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T16:36:42.3232162Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T16:36:43.2719576Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"47","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T16:36:43.8078968Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"15","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T16:36:43.8348498Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T16:36:46.3739059Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["8.5695"],"@tr":"f14e90c9d2ad52bbdd28e0c86feab939","@sp":"9651be9d8e7ba32c","RequestMethod":"GET","RequestPath":"/swagger","StatusCode":301,"Elapsed":8.5695,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:36:46.6126048Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["186.4347"],"@tr":"0719176a2c40eb724f731c3cd4aec637","@sp":"2a64fa69be9ec250","RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":186.4347,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:36:46.7574929Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["35.1675"],"@tr":"6e93789c619ead1f4f421416d2c65e8f","@sp":"9221275ddd86d75a","RequestMethod":"GET","RequestPath":"/swagger/index.js","StatusCode":200,"Elapsed":35.1675,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:36:46.7752281Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["91.1077"],"@tr":"f67dff1242047f5642cb48dd7e5cb987","@sp":"85f3c2bafa7ea7a7","RequestMethod":"GET","RequestPath":"/swagger/index.css","StatusCode":200,"Elapsed":91.1077,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:36:46.8913745Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["207.0144"],"@tr":"5941ec4065298040ded4a067a1a4d992","@sp":"cae72f54a91192cb","RequestMethod":"GET","RequestPath":"/swagger/swagger-ui.css","StatusCode":200,"Elapsed":207.0144,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:36:46.8915876Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["207.1136"],"@tr":"a847d54ca2858856fefce423b7926204","@sp":"9369dd6b091c6dd3","RequestMethod":"GET","RequestPath":"/swagger/swagger-ui-standalone-preset.js","StatusCode":200,"Elapsed":207.1136,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:36:46.9174989Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["229.3865"],"@tr":"584dfdccb366f0623c34246de73608c9","@sp":"f46ca8ed18873ef5","RequestMethod":"GET","RequestPath":"/swagger/swagger-ui-bundle.js","StatusCode":200,"Elapsed":229.3865,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:36:47.5097340Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["32.8129"],"@tr":"1c0677a43d4f954594dedf1be48dc720","@sp":"07733c64ad2754d9","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":32.8129,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:36:47.5348824Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["0.6561"],"@tr":"90547c25537c24c8c68b09d5ad402b54","@sp":"3c763e2b3ca5e465","RequestMethod":"GET","RequestPath":"/swagger/favicon-32x32.png","StatusCode":200,"Elapsed":0.6561,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:37:13.3579478Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"aa7ae05bdc530c2a6e29598a51c358ac","@sp":"459d3f66cc9620f9","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND87JU9O6VN:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:37:13.7550883Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"aa7ae05bdc530c2a6e29598a51c358ac","@sp":"459d3f66cc9620f9","elapsed":"100","parameters":"@__normalizedUserName_0='OWNER@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:37:14.2440686Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"aa7ae05bdc530c2a6e29598a51c358ac","@sp":"459d3f66cc9620f9","elapsed":"4","parameters":"@__user_Id_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:37:14.3057538Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"aa7ae05bdc530c2a6e29598a51c358ac","@sp":"459d3f66cc9620f9","elapsed":"5","parameters":"@__userId_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:37:14.3268844Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"aa7ae05bdc530c2a6e29598a51c358ac","@sp":"459d3f66cc9620f9","elapsed":"4","parameters":"@__normalizedName_0='OWNER' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:37:14.3587219Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"aa7ae05bdc530c2a6e29598a51c358ac","@sp":"459d3f66cc9620f9","elapsed":"3","parameters":"@__role_Id_0='84fff6e3-06b7-481e-a096-5f1eb8b59366' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[ClaimType], [a].[ClaimValue]\r\nFROM [AspNetRoleClaims] AS [a]\r\nWHERE [a].[RoleId] = @__role_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:37:14.3937971Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1037.1642"],"@tr":"aa7ae05bdc530c2a6e29598a51c358ac","@sp":"459d3f66cc9620f9","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":1037.1642,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:37:39.3681942Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"30f3e4bc5b55c5847c3b2e40d6118683","@sp":"9173be854672fbb0","elapsed":"4","parameters":"@__normalizedUserName_0='OWNER@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:37:39.4889278Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"30f3e4bc5b55c5847c3b2e40d6118683","@sp":"9173be854672fbb0","elapsed":"4","parameters":"@__user_Id_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:37:39.5017732Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"30f3e4bc5b55c5847c3b2e40d6118683","@sp":"9173be854672fbb0","elapsed":"4","parameters":"@__userId_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:37:39.5123196Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"30f3e4bc5b55c5847c3b2e40d6118683","@sp":"9173be854672fbb0","elapsed":"3","parameters":"@__normalizedName_0='OWNER' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:37:39.5227618Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"30f3e4bc5b55c5847c3b2e40d6118683","@sp":"9173be854672fbb0","elapsed":"3","parameters":"@__role_Id_0='84fff6e3-06b7-481e-a096-5f1eb8b59366' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[ClaimType], [a].[ClaimValue]\r\nFROM [AspNetRoleClaims] AS [a]\r\nWHERE [a].[RoleId] = @__role_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:37:39.5318698Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["247.2985"],"@tr":"30f3e4bc5b55c5847c3b2e40d6118683","@sp":"9173be854672fbb0","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":247.2985,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:38:05.2596760Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["8.3068"],"@tr":"1c37d03d7120af91b232cc0323de78cd","@sp":"3f01a90aff547c00","RequestMethod":"GET","RequestPath":"/api/restaurants/12","StatusCode":403,"Elapsed":8.3068,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:38:16.5308500Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"1e1a5c9cfe19808b8c90ee31f58f2934","@sp":"6a01a26fd3ad1ef3","elapsed":"4","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000004","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:38:16.6645364Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"1e1a5c9cfe19808b8c90ee31f58f2934","@sp":"6a01a26fd3ad1ef3","elapsed":"2","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000004","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:38:16.6738818Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"1e1a5c9cfe19808b8c90ee31f58f2934","@sp":"6a01a26fd3ad1ef3","elapsed":"1","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87JU9O6VN:00000004","RequestPath":"/api/identity/login","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:38:16.6808528Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["173.8560"],"@tr":"1e1a5c9cfe19808b8c90ee31f58f2934","@sp":"6a01a26fd3ad1ef3","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":173.856,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:38:39.5208551Z","@mt":"Get restaurant: {RestaurantId}","@tr":"1c024a9ca02de5f8032b7d197df39947","@sp":"053a361e6324274b","RestaurantId":12,"SourceContext":"Restaurants.Application.Restaurants.Queries.GetRestaurantById.GetRestaurantByIdQueryHandler","ActionId":"ea948c2a-5286-4ac9-a93d-002c1ed29bfb","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetById (Restaurants.API)","RequestId":"0HND87JU9O6VN:00000005","RequestPath":"/api/restaurants/12","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:38:39.6413768Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"1c024a9ca02de5f8032b7d197df39947","@sp":"053a361e6324274b","elapsed":"6","parameters":"@__id_0='12'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [r0].[Id], [r0].[Category], [r0].[ContactEmail], [r0].[ContactNumber], [r0].[Description], [r0].[HasDelivery], [r0].[Name], [r0].[Address_City], [r0].[Address_PostalCode], [r0].[Address_Street], [d].[Id], [d].[Description], [d].[KiloCalories], [d].[Name], [d].[Price], [d].[RestaurantId]\r\nFROM (\r\n    SELECT TOP(1) [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[Address_City], [r].[Address_PostalCode], [r].[Address_Street]\r\n    FROM [Restaurants] AS [r]\r\n    WHERE [r].[Id] = @__id_0\r\n) AS [r0]\r\nLEFT JOIN [Dishes] AS [d] ON [r0].[Id] = [d].[RestaurantId]\r\nORDER BY [r0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"ea948c2a-5286-4ac9-a93d-002c1ed29bfb","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetById (Restaurants.API)","RequestId":"0HND87JU9O6VN:00000005","RequestPath":"/api/restaurants/12","ConnectionId":"0HND87JU9O6VN"}
{"@t":"2025-06-10T16:38:39.7819526Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["510.8775"],"@tr":"1c024a9ca02de5f8032b7d197df39947","@sp":"053a361e6324274b","RequestMethod":"GET","RequestPath":"/api/restaurants/12","StatusCode":200,"Elapsed":510.8775,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:48:56.6560165Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T16:48:56.7930730Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T16:48:56.8133857Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T16:48:57.4358604Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"34","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T16:48:57.8233672Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"10","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T16:48:57.8506018Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T16:48:59.8207504Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["41.8805"],"@tr":"6539fdb7ccde5ca0a0e6b249250e867c","@sp":"de55552bf72ac8a4","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":41.8805,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:49:03.2613900Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"9f5d6fe909702c1886c5b4164c8c63d9","@sp":"2de66f0c25bb53c4","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND87QP2HIB8:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:49:03.5168657Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"9f5d6fe909702c1886c5b4164c8c63d9","@sp":"2de66f0c25bb53c4","elapsed":"55","parameters":"@__normalizedUserName_0='OWNER@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:49:03.8292646Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"9f5d6fe909702c1886c5b4164c8c63d9","@sp":"2de66f0c25bb53c4","elapsed":"3","parameters":"@__user_Id_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:49:03.8711446Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"9f5d6fe909702c1886c5b4164c8c63d9","@sp":"2de66f0c25bb53c4","elapsed":"5","parameters":"@__userId_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:49:03.8908949Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"9f5d6fe909702c1886c5b4164c8c63d9","@sp":"2de66f0c25bb53c4","elapsed":"3","parameters":"@__normalizedName_0='OWNER' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:49:03.9228078Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"9f5d6fe909702c1886c5b4164c8c63d9","@sp":"2de66f0c25bb53c4","elapsed":"3","parameters":"@__role_Id_0='84fff6e3-06b7-481e-a096-5f1eb8b59366' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[ClaimType], [a].[ClaimValue]\r\nFROM [AspNetRoleClaims] AS [a]\r\nWHERE [a].[RoleId] = @__role_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:49:03.9565842Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["699.0449"],"@tr":"9f5d6fe909702c1886c5b4164c8c63d9","@sp":"2de66f0c25bb53c4","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":699.0449,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:49:37.1524803Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["8.3348"],"@tr":"7d4a97698a079c5ce92ca685ed3fc35f","@sp":"81175beafb805d6d","RequestMethod":"PATCH","RequestPath":"/api/identity/user","StatusCode":401,"Elapsed":8.3348,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:49:57.6242542Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"69f9d1440666aaa7e7c7bb49fd7b7597","@sp":"766359d8b281ffa4","elapsed":"5","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000003","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:49:57.7335909Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"69f9d1440666aaa7e7c7bb49fd7b7597","@sp":"766359d8b281ffa4","elapsed":"3","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000003","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:49:57.7478598Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"69f9d1440666aaa7e7c7bb49fd7b7597","@sp":"766359d8b281ffa4","elapsed":"5","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000003","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:49:57.7547377Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["232.3670"],"@tr":"69f9d1440666aaa7e7c7bb49fd7b7597","@sp":"766359d8b281ffa4","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":232.367,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:50:14.4492193Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2.1016"],"@tr":"e760aaf5ac13d4683296cee923a15883","@sp":"6c453f2c54e0ee54","RequestMethod":"PATCH","RequestPath":"/api/identity/user","StatusCode":401,"Elapsed":2.1016,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:50:47.9700533Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"5dfc1b079ac2edfae56731197af3f6f2","@sp":"9935f4c698d962ff","elapsed":"6","parameters":"@__normalizedUserName_0='OWNER@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000005","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:50:48.0824067Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"5dfc1b079ac2edfae56731197af3f6f2","@sp":"9935f4c698d962ff","elapsed":"3","parameters":"@__user_Id_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000005","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:50:48.0935426Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"5dfc1b079ac2edfae56731197af3f6f2","@sp":"9935f4c698d962ff","elapsed":"4","parameters":"@__userId_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000005","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:50:48.1045450Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"5dfc1b079ac2edfae56731197af3f6f2","@sp":"9935f4c698d962ff","elapsed":"4","parameters":"@__normalizedName_0='OWNER' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000005","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:50:48.1147177Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"5dfc1b079ac2edfae56731197af3f6f2","@sp":"9935f4c698d962ff","elapsed":"2","parameters":"@__role_Id_0='84fff6e3-06b7-481e-a096-5f1eb8b59366' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[ClaimType], [a].[ClaimValue]\r\nFROM [AspNetRoleClaims] AS [a]\r\nWHERE [a].[RoleId] = @__role_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND87QP2HIB8:00000005","RequestPath":"/api/identity/login","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:50:48.1224660Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["181.6055"],"@tr":"5dfc1b079ac2edfae56731197af3f6f2","@sp":"9935f4c698d962ff","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":181.6055,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T16:51:09.1716187Z","@mt":"Actualizando usuario: {userId} con {@Request}","@tr":"ba38edfeb0c9da13307a72dccf58f67c","@sp":"258477de51d37581","userId":"5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2","Request":{"DateOfBirth":"2000-02-01","Nationality":"French","$type":"UpdateUserDetailsCommand"},"SourceContext":"Restaurants.Application.Users.Commands.UpdateUserDetails.UpdateUserDetailsCommandHandler","ActionId":"bf46e4cf-001a-4456-9844-ddcbfc35a7b8","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND87QP2HIB8:00000006","RequestPath":"/api/identity/user","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:51:09.2378447Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"ba38edfeb0c9da13307a72dccf58f67c","@sp":"258477de51d37581","elapsed":"3","parameters":"@__p_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bf46e4cf-001a-4456-9844-ddcbfc35a7b8","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND87QP2HIB8:00000006","RequestPath":"/api/identity/user","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:51:09.3925271Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"ba38edfeb0c9da13307a72dccf58f67c","@sp":"258477de51d37581","elapsed":"13","parameters":"@p16='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Nullable = false) (Size = 450), @p0='0', @p1='3fdc6d26-c4ba-46b9-af90-0b855017afd7' (Size = 4000), @p17='66cda709-2cc7-4af5-9cc5-4ba70912558c' (Size = 4000), @p2='02/01/2000' (DbType = Date), @p3='owner@gmail.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='French' (Size = 4000), @p8='OWNER@GMAIL.COM' (Size = 256), @p9='OWNER@GMAIL.COM' (Size = 256), @p10='AQAAAAIAAYagAAAAEI8I/ZHQeHQMQQbrZknYvgMJ+mVxvbpErN6cFcVTBUErAJ/JlESORc4JN32Yr0Bjow==' (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13='6OU7QIOZJSLYFLOSJT7BUIQBT5UHXBPN' (Size = 4000), @p14='False', @p15='owner@gmail.com' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateOfBirth] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Nationality] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15\r\nOUTPUT 1\r\nWHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"bf46e4cf-001a-4456-9844-ddcbfc35a7b8","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND87QP2HIB8:00000006","RequestPath":"/api/identity/user","ConnectionId":"0HND87QP2HIB8"}
{"@t":"2025-06-10T16:51:09.4193112Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["340.0460"],"@tr":"ba38edfeb0c9da13307a72dccf58f67c","@sp":"258477de51d37581","RequestMethod":"PATCH","RequestPath":"/api/identity/user","StatusCode":204,"Elapsed":340.046,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T17:09:59.9172535Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T17:10:00.0610963Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T17:10:00.0803685Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T17:10:00.6723798Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"34","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T17:10:01.0492638Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"12","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T17:10:01.0783477Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T17:10:02.6763672Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["39.0133"],"@tr":"b4469bedaaf870b15d7b6dcbe966a5e1","@sp":"97a1094a69026e15","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":39.0133,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T17:10:32.7652427Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"c17346b289d95f5b50d10dcfa409c24e","@sp":"b9b9024aa9cc3faf","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND886HG0JM8:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND886HG0JM8"}
{"@t":"2025-06-10T17:10:33.0180110Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c17346b289d95f5b50d10dcfa409c24e","@sp":"b9b9024aa9cc3faf","elapsed":"49","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND886HG0JM8:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND886HG0JM8"}
{"@t":"2025-06-10T17:10:33.3331642Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c17346b289d95f5b50d10dcfa409c24e","@sp":"b9b9024aa9cc3faf","elapsed":"3","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND886HG0JM8:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND886HG0JM8"}
{"@t":"2025-06-10T17:10:33.3764048Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c17346b289d95f5b50d10dcfa409c24e","@sp":"b9b9024aa9cc3faf","elapsed":"3","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND886HG0JM8:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND886HG0JM8"}
{"@t":"2025-06-10T17:10:33.4093531Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["657.4699"],"@tr":"c17346b289d95f5b50d10dcfa409c24e","@sp":"b9b9024aa9cc3faf","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":657.4699,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T17:12:06.2738307Z","@mt":"Getting all restaurants","@tr":"b9aa7df6e70d5df1185ec18ac5ac19d4","@sp":"7fba1e887807cdde","SourceContext":"Restaurants.Application.Restaurants.Queries.GetAllRestaurants.GetAllRestaurantsQueryHandler","ActionId":"59e42c65-e849-49ee-ac6d-f5bc0a7b9578","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetAll (Restaurants.API)","RequestId":"0HND886HG0JM8:00000002","RequestPath":"/api/restaurants","ConnectionId":"0HND886HG0JM8"}
{"@t":"2025-06-10T17:12:06.3894679Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"b9aa7df6e70d5df1185ec18ac5ac19d4","@sp":"7fba1e887807cdde","elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[Address_City], [r].[Address_PostalCode], [r].[Address_Street]\r\nFROM [Restaurants] AS [r]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"59e42c65-e849-49ee-ac6d-f5bc0a7b9578","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetAll (Restaurants.API)","RequestId":"0HND886HG0JM8:00000002","RequestPath":"/api/restaurants","ConnectionId":"0HND886HG0JM8"}
{"@t":"2025-06-10T17:12:06.5077553Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["74327.2299"],"@tr":"b9aa7df6e70d5df1185ec18ac5ac19d4","@sp":"7fba1e887807cdde","RequestMethod":"GET","RequestPath":"/api/restaurants","StatusCode":200,"Elapsed":74327.2299,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T17:12:06.5155722Z","@mt":"La solicitud [{Verb}] a {Path} tomó {Time} ms","@tr":"b9aa7df6e70d5df1185ec18ac5ac19d4","@sp":"7fba1e887807cdde","Verb":"GET","Path":"/api/restaurants","Time":74333,"SourceContext":"Restaurants.API.Middlewares.RequestTimeLoggingMiddleware","RequestId":"0HND886HG0JM8:00000002","RequestPath":"/api/restaurants","ConnectionId":"0HND886HG0JM8"}
{"@t":"2025-06-10T17:12:18.4177675Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f481999bee2010e87bfa6e5912c9e7d0","@sp":"49fe74be0356d949","elapsed":"5","parameters":"@__normalizedUserName_0='OWNER@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND886HG0JM9:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND886HG0JM9"}
{"@t":"2025-06-10T17:12:18.5279430Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f481999bee2010e87bfa6e5912c9e7d0","@sp":"49fe74be0356d949","elapsed":"3","parameters":"@__user_Id_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND886HG0JM9:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND886HG0JM9"}
{"@t":"2025-06-10T17:12:18.5392927Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f481999bee2010e87bfa6e5912c9e7d0","@sp":"49fe74be0356d949","elapsed":"4","parameters":"@__userId_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND886HG0JM9:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND886HG0JM9"}
{"@t":"2025-06-10T17:12:18.5578178Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f481999bee2010e87bfa6e5912c9e7d0","@sp":"49fe74be0356d949","elapsed":"3","parameters":"@__normalizedName_0='OWNER' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND886HG0JM9:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND886HG0JM9"}
{"@t":"2025-06-10T17:12:18.5892023Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f481999bee2010e87bfa6e5912c9e7d0","@sp":"49fe74be0356d949","elapsed":"3","parameters":"@__role_Id_0='84fff6e3-06b7-481e-a096-5f1eb8b59366' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[ClaimType], [a].[ClaimValue]\r\nFROM [AspNetRoleClaims] AS [a]\r\nWHERE [a].[RoleId] = @__role_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND886HG0JM9:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND886HG0JM9"}
{"@t":"2025-06-10T17:12:18.5978714Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["192.6905"],"@tr":"f481999bee2010e87bfa6e5912c9e7d0","@sp":"49fe74be0356d949","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":192.6905,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T17:52:42.0305212Z","@mt":"Getting all restaurants","@tr":"eec02a2758a87a43c1db3b18453b6cf5","@sp":"b231275eab0bfb90","SourceContext":"Restaurants.Application.Restaurants.Queries.GetAllRestaurants.GetAllRestaurantsQueryHandler","ActionId":"59e42c65-e849-49ee-ac6d-f5bc0a7b9578","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetAll (Restaurants.API)","RequestId":"0HND886HG0JM9:00000002","RequestPath":"/api/restaurants","ConnectionId":"0HND886HG0JM9"}
{"@t":"2025-06-10T17:52:42.0805118Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"eec02a2758a87a43c1db3b18453b6cf5","@sp":"b231275eab0bfb90","elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[Address_City], [r].[Address_PostalCode], [r].[Address_Street]\r\nFROM [Restaurants] AS [r]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"59e42c65-e849-49ee-ac6d-f5bc0a7b9578","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetAll (Restaurants.API)","RequestId":"0HND886HG0JM9:00000002","RequestPath":"/api/restaurants","ConnectionId":"0HND886HG0JM9"}
{"@t":"2025-06-10T17:52:42.0926470Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2404249.8626"],"@tr":"eec02a2758a87a43c1db3b18453b6cf5","@sp":"b231275eab0bfb90","RequestMethod":"GET","RequestPath":"/api/restaurants","StatusCode":200,"Elapsed":2404249.8626,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T17:52:42.0997574Z","@mt":"La solicitud [{Verb}] a {Path} tomó {Time} ms","@tr":"eec02a2758a87a43c1db3b18453b6cf5","@sp":"b231275eab0bfb90","Verb":"GET","Path":"/api/restaurants","Time":2404256,"SourceContext":"Restaurants.API.Middlewares.RequestTimeLoggingMiddleware","RequestId":"0HND886HG0JM9:00000002","RequestPath":"/api/restaurants","ConnectionId":"0HND886HG0JM9"}
{"@t":"2025-06-10T20:20:46.1548190Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:20:46.2946186Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:20:46.3142283Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:20:47.0430213Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"36","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:20:47.4252042Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"11","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:20:47.4505988Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:21:55.3431354Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["85.9333"],"@tr":"54f96794860a36bc6ca6ea7b4911e353","@sp":"209221a5813e7034","RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":85.9333,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:21:55.5519520Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["151.7706"],"@tr":"e56493166cbe2f261305d298517d6814","@sp":"b6ab180a980e9f57","RequestMethod":"GET","RequestPath":"/swagger/swagger-ui-standalone-preset.js","StatusCode":200,"Elapsed":151.7706,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:21:55.5519679Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["151.7572"],"@tr":"8ad307a90b2400152aca99bc0ad98f76","@sp":"945aee0e02c8ccc7","RequestMethod":"GET","RequestPath":"/swagger/swagger-ui.css","StatusCode":200,"Elapsed":151.7572,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:21:55.5734783Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["173.3360"],"@tr":"7c06702af4bdf62ab859bfe265475b50","@sp":"1ab5c49eea3107e1","RequestMethod":"GET","RequestPath":"/swagger/swagger-ui-bundle.js","StatusCode":200,"Elapsed":173.336,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:21:55.9613072Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["46.0501"],"@tr":"a57048ca7a903633673d5395db8dc920","@sp":"35e359e9779fabe2","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":46.0501,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:22:33.5417943Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"1379e9b5ef5279f8d4f542ce360c0b46","@sp":"5121d15c3346c5dd","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND8BH4QBJI6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BH4QBJI6"}
{"@t":"2025-06-10T20:22:33.8511491Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"1379e9b5ef5279f8d4f542ce360c0b46","@sp":"5121d15c3346c5dd","elapsed":"50","parameters":"@__normalizedUserName_0='OWNER@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BH4QBJI6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BH4QBJI6"}
{"@t":"2025-06-10T20:22:34.1643727Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"1379e9b5ef5279f8d4f542ce360c0b46","@sp":"5121d15c3346c5dd","elapsed":"3","parameters":"@__user_Id_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BH4QBJI6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BH4QBJI6"}
{"@t":"2025-06-10T20:22:34.2102120Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"1379e9b5ef5279f8d4f542ce360c0b46","@sp":"5121d15c3346c5dd","elapsed":"5","parameters":"@__userId_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BH4QBJI6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BH4QBJI6"}
{"@t":"2025-06-10T20:22:34.2317642Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"1379e9b5ef5279f8d4f542ce360c0b46","@sp":"5121d15c3346c5dd","elapsed":"3","parameters":"@__normalizedName_0='OWNER' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BH4QBJI6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BH4QBJI6"}
{"@t":"2025-06-10T20:22:34.2676493Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"1379e9b5ef5279f8d4f542ce360c0b46","@sp":"5121d15c3346c5dd","elapsed":"3","parameters":"@__role_Id_0='84fff6e3-06b7-481e-a096-5f1eb8b59366' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[ClaimType], [a].[ClaimValue]\r\nFROM [AspNetRoleClaims] AS [a]\r\nWHERE [a].[RoleId] = @__role_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BH4QBJI6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BH4QBJI6"}
{"@t":"2025-06-10T20:22:34.2967990Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["756.5839"],"@tr":"1379e9b5ef5279f8d4f542ce360c0b46","@sp":"5121d15c3346c5dd","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":756.5839,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:23:03.1599633Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["115.9855"],"@tr":"c3c23bd9061098961f55cd7d0acdf33e","@sp":"82702360838c1643","RequestMethod":"PATCH","RequestPath":"/api/identity/user","StatusCode":400,"Elapsed":115.9855,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:23:22.7192645Z","@mt":"Actualizando usuario: {userId} con {@Request}","@tr":"cfa3a6c7923f0ebf3a449781b3317354","@sp":"f29524bfac71185d","userId":"5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2","Request":{"DateOfBirth":"2010-02-01","Nationality":null,"$type":"UpdateUserDetailsCommand"},"SourceContext":"Restaurants.Application.Users.Commands.UpdateUserDetails.UpdateUserDetailsCommandHandler","ActionId":"8ab8d2af-2e12-418c-97b9-e83f393fd251","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BH4QBJI6:00000003","RequestPath":"/api/identity/user","ConnectionId":"0HND8BH4QBJI6"}
{"@t":"2025-06-10T20:23:22.8484868Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"cfa3a6c7923f0ebf3a449781b3317354","@sp":"f29524bfac71185d","elapsed":"4","parameters":"@__p_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8ab8d2af-2e12-418c-97b9-e83f393fd251","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BH4QBJI6:00000003","RequestPath":"/api/identity/user","ConnectionId":"0HND8BH4QBJI6"}
{"@t":"2025-06-10T20:23:22.9848010Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"cfa3a6c7923f0ebf3a449781b3317354","@sp":"f29524bfac71185d","elapsed":"9","parameters":"@p16='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Nullable = false) (Size = 450), @p0='0', @p1='b5cd85b8-2a71-4d43-a0c8-10c2f72b6b6a' (Size = 4000), @p17='3fdc6d26-c4ba-46b9-af90-0b855017afd7' (Size = 4000), @p2='02/01/2010' (DbType = Date), @p3='owner@gmail.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7=NULL (Size = 4000), @p8='OWNER@GMAIL.COM' (Size = 256), @p9='OWNER@GMAIL.COM' (Size = 256), @p10='AQAAAAIAAYagAAAAEI8I/ZHQeHQMQQbrZknYvgMJ+mVxvbpErN6cFcVTBUErAJ/JlESORc4JN32Yr0Bjow==' (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13='6OU7QIOZJSLYFLOSJT7BUIQBT5UHXBPN' (Size = 4000), @p14='False', @p15='owner@gmail.com' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateOfBirth] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Nationality] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15\r\nOUTPUT 1\r\nWHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8ab8d2af-2e12-418c-97b9-e83f393fd251","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BH4QBJI6:00000003","RequestPath":"/api/identity/user","ConnectionId":"0HND8BH4QBJI6"}
{"@t":"2025-06-10T20:23:23.0131210Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["320.9195"],"@tr":"cfa3a6c7923f0ebf3a449781b3317354","@sp":"f29524bfac71185d","RequestMethod":"PATCH","RequestPath":"/api/identity/user","StatusCode":204,"Elapsed":320.9195,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:25:20.0151933Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:25:20.1715376Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:25:20.1911520Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:25:20.7897866Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"35","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:25:21.2175975Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"9","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:25:21.2448525Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:25:23.5565325Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["108.9654"],"@tr":"4fb6799025d70d396b9617973604ff49","@sp":"8365205d69394cd1","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":108.9654,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:25:33.4487001Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"100f3048a7ff9cbd967ec9f039bb688e","@sp":"6e33f43cc057bf9f","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND8BJMC0KPR:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BJMC0KPR"}
{"@t":"2025-06-10T20:28:36.7453410Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:28:36.9075860Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:28:36.9274845Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:28:37.5502511Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"36","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:28:37.9502716Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"11","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:28:37.9810106Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:28:39.8610957Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["40.7626"],"@tr":"1efcccbfcc7fbe4714e9c71d9b74ebd8","@sp":"afd1604bc698bcdc","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":40.7626,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:28:46.6377367Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"96618da85a4a532053133c381ace6ecf","@sp":"3f7d90b62fb63e38","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND8BLH2I2DI:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BLH2I2DI"}
{"@t":"2025-06-10T20:28:46.6602876Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"96618da85a4a532053133c381ace6ecf","@sp":"3f7d90b62fb63e38","Email":"5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2","DOB":"2000-01-01","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BLH2I2DI:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BLH2I2DI"}
{"@t":"2025-06-10T20:28:46.6682992Z","@mt":"Authorization succeded","@l":"Warning","@tr":"96618da85a4a532053133c381ace6ecf","@sp":"3f7d90b62fb63e38","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BLH2I2DI:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BLH2I2DI"}
{"@t":"2025-06-10T20:28:46.6799924Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["45.5333"],"@tr":"96618da85a4a532053133c381ace6ecf","@sp":"3f7d90b62fb63e38","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":403,"Elapsed":45.5333,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:30:54.1819851Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"d1b4f3829e506b61e5599137bbca0bf2","@sp":"238a91ccfc20a4a1","elapsed":"48","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BLH2I2DJ:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BLH2I2DJ"}
{"@t":"2025-06-10T20:30:54.4764825Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"d1b4f3829e506b61e5599137bbca0bf2","@sp":"238a91ccfc20a4a1","elapsed":"3","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BLH2I2DJ:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BLH2I2DJ"}
{"@t":"2025-06-10T20:30:54.5191654Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"d1b4f3829e506b61e5599137bbca0bf2","@sp":"238a91ccfc20a4a1","elapsed":"4","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BLH2I2DJ:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BLH2I2DJ"}
{"@t":"2025-06-10T20:30:54.5446182Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["592.5303"],"@tr":"d1b4f3829e506b61e5599137bbca0bf2","@sp":"238a91ccfc20a4a1","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":592.5303,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:31:17.4716644Z","@mt":"Actualizando usuario: {userId} con {@Request}","@tr":"13408f40ae1d2d61991267091662f41c","@sp":"538714fbef5697bc","userId":"b70b5d44-e18b-4e01-ab0e-7fc2c2db5706","Request":{"DateOfBirth":"2000-02-01","Nationality":null,"$type":"UpdateUserDetailsCommand"},"SourceContext":"Restaurants.Application.Users.Commands.UpdateUserDetails.UpdateUserDetailsCommandHandler","ActionId":"76e0d4f7-bcb3-4615-9543-92a5a20fa3b7","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BLH2I2DJ:00000002","RequestPath":"/api/identity/user","ConnectionId":"0HND8BLH2I2DJ"}
{"@t":"2025-06-10T20:31:17.6023872Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"13408f40ae1d2d61991267091662f41c","@sp":"538714fbef5697bc","elapsed":"5","parameters":"@__p_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"76e0d4f7-bcb3-4615-9543-92a5a20fa3b7","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BLH2I2DJ:00000002","RequestPath":"/api/identity/user","ConnectionId":"0HND8BLH2I2DJ"}
{"@t":"2025-06-10T20:31:17.7495875Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"13408f40ae1d2d61991267091662f41c","@sp":"538714fbef5697bc","elapsed":"7","parameters":"@p16='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Nullable = false) (Size = 450), @p0='0', @p1='5393d326-8d7b-4cc7-a17b-8c9401c4cb8d' (Size = 4000), @p17='6f07f13d-8de7-409b-8739-4651b3cf493a' (Size = 4000), @p2='02/01/2000' (DbType = Date), @p3='test@gmail.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7=NULL (Size = 4000), @p8='TEST@GMAIL.COM' (Size = 256), @p9='TEST@GMAIL.COM' (Size = 256), @p10='AQAAAAIAAYagAAAAEMOroMwO+2815v+kVZ8Dte4wTfg6WXnx6mF/BBsX1EgfmAXAkXMME9yHhcGrXZzswQ==' (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13='CLWU5DCXVTDTVFUG6XOASVZTUHWN6NMQ' (Size = 4000), @p14='False', @p15='test@gmail.com' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateOfBirth] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Nationality] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15\r\nOUTPUT 1\r\nWHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"76e0d4f7-bcb3-4615-9543-92a5a20fa3b7","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BLH2I2DJ:00000002","RequestPath":"/api/identity/user","ConnectionId":"0HND8BLH2I2DJ"}
{"@t":"2025-06-10T20:31:17.7792764Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["401.5028"],"@tr":"13408f40ae1d2d61991267091662f41c","@sp":"538714fbef5697bc","RequestMethod":"PATCH","RequestPath":"/api/identity/user","StatusCode":204,"Elapsed":401.5028,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:31:42.2878491Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"2f6dae629d2c8077091984cb4be83b50","@sp":"14e652b1660b645e","Email":"b70b5d44-e18b-4e01-ab0e-7fc2c2db5706","DOB":"2025-01-26","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BLH2I2DJ:00000003","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BLH2I2DJ"}
{"@t":"2025-06-10T20:31:42.2923418Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["7.5237"],"@tr":"2f6dae629d2c8077091984cb4be83b50","@sp":"14e652b1660b645e","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":403,"Elapsed":7.5237,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:33:35.3731978Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:33:35.5070351Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:33:35.5258689Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:33:36.1208850Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"34","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:33:36.4969432Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"9","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:33:36.5233742Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:33:38.1188676Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["43.9068"],"@tr":"93baf56fb8400396ca70dee79c789852","@sp":"061163ec06d72c53","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":43.9068,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:33:40.1367018Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"8b03abd8f8cd649382af811c06aeef6f","@sp":"c1e256e7743e149b","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND8BO9VI2GM:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BO9VI2GM"}
{"@t":"2025-06-10T20:34:02.8821758Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"8b03abd8f8cd649382af811c06aeef6f","@sp":"c1e256e7743e149b","Email":"b70b5d44-e18b-4e01-ab0e-7fc2c2db5706","DOB":"2025-01-26","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BO9VI2GM:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BO9VI2GM"}
{"@t":"2025-06-10T20:35:37.6396365Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["117507.5322"],"@tr":"8b03abd8f8cd649382af811c06aeef6f","@sp":"c1e256e7743e149b","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":403,"Elapsed":117507.5322,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:35:37.6479109Z","@mt":"La solicitud [{Verb}] a {Path} tomó {Time} ms","@tr":"8b03abd8f8cd649382af811c06aeef6f","@sp":"c1e256e7743e149b","Verb":"GET","Path":"/api/restaurants/12/dishes","Time":117514,"SourceContext":"Restaurants.API.Middlewares.RequestTimeLoggingMiddleware","RequestId":"0HND8BO9VI2GM:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BO9VI2GM"}
{"@t":"2025-06-10T20:37:15.5497145Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:37:15.7120594Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:37:15.7359651Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:37:16.3798985Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"46","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:37:16.7879054Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"10","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:37:16.8153469Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:37:18.7089309Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["40.2996"],"@tr":"5deee3be83c92efe455783fb2860de70","@sp":"93474518355140f0","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":40.2996,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:37:25.6474473Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"f34026d3fa580085657e61a0e063a5f5","@sp":"2c34af52d03ed804","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND8BQBKQOIJ:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BQBKQOIJ"}
{"@t":"2025-06-10T20:37:25.9574266Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f34026d3fa580085657e61a0e063a5f5","@sp":"2c34af52d03ed804","elapsed":"54","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BQBKQOIJ:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BQBKQOIJ"}
{"@t":"2025-06-10T20:37:26.3426839Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f34026d3fa580085657e61a0e063a5f5","@sp":"2c34af52d03ed804","elapsed":"4","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BQBKQOIJ:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BQBKQOIJ"}
{"@t":"2025-06-10T20:37:26.3943641Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"f34026d3fa580085657e61a0e063a5f5","@sp":"2c34af52d03ed804","elapsed":"6","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BQBKQOIJ:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BQBKQOIJ"}
{"@t":"2025-06-10T20:37:26.4328534Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["789.6528"],"@tr":"f34026d3fa580085657e61a0e063a5f5","@sp":"2c34af52d03ed804","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":789.6528,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:38:14.1375427Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"2f126f6da248208f8b4941f5a7f6df68","@sp":"85223a5fd1b093db","Email":"b70b5d44-e18b-4e01-ab0e-7fc2c2db5706","DOB":"2000-01-01","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BQBKQOIJ:00000002","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BQBKQOIJ"}
{"@t":"2025-06-10T20:38:14.9430269Z","@mt":"Authorization succeded","@l":"Warning","@tr":"2f126f6da248208f8b4941f5a7f6df68","@sp":"85223a5fd1b093db","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BQBKQOIJ:00000002","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BQBKQOIJ"}
{"@t":"2025-06-10T20:38:14.9488800Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["31957.1250"],"@tr":"2f126f6da248208f8b4941f5a7f6df68","@sp":"85223a5fd1b093db","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":403,"Elapsed":31957.125,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:38:14.9566841Z","@mt":"La solicitud [{Verb}] a {Path} tomó {Time} ms","@tr":"2f126f6da248208f8b4941f5a7f6df68","@sp":"85223a5fd1b093db","Verb":"GET","Path":"/api/restaurants/12/dishes","Time":31963,"SourceContext":"Restaurants.API.Middlewares.RequestTimeLoggingMiddleware","RequestId":"0HND8BQBKQOIJ:00000002","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BQBKQOIJ"}
{"@t":"2025-06-10T20:38:58.5341037Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"efffd7506f9120b2c8896756ae971fca","@sp":"f5610abc3c18aa2a","Email":"b70b5d44-e18b-4e01-ab0e-7fc2c2db5706","DOB":"2000-01-01","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BQBKQOIK:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:38:58.5385045Z","@mt":"Authorization succeded","@l":"Warning","@tr":"efffd7506f9120b2c8896756ae971fca","@sp":"f5610abc3c18aa2a","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BQBKQOIK:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:38:58.5410110Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["14.2374"],"@tr":"efffd7506f9120b2c8896756ae971fca","@sp":"f5610abc3c18aa2a","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":403,"Elapsed":14.2374,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:39:57.7968767Z","@mt":"Getting all restaurants","@tr":"ff8978a15f3b4ffbc36d6d9ce1538c2e","@sp":"c8a6bbe8de49314b","SourceContext":"Restaurants.Application.Restaurants.Queries.GetAllRestaurants.GetAllRestaurantsQueryHandler","ActionId":"a28ee16c-d527-4138-8c45-3e562f9946ff","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetAll (Restaurants.API)","RequestId":"0HND8BQBKQOIK:00000002","RequestPath":"/api/restaurants","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:39:57.9207009Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"ff8978a15f3b4ffbc36d6d9ce1538c2e","@sp":"c8a6bbe8de49314b","elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[Address_City], [r].[Address_PostalCode], [r].[Address_Street]\r\nFROM [Restaurants] AS [r]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a28ee16c-d527-4138-8c45-3e562f9946ff","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetAll (Restaurants.API)","RequestId":"0HND8BQBKQOIK:00000002","RequestPath":"/api/restaurants","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:39:58.0240529Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["408.5378"],"@tr":"ff8978a15f3b4ffbc36d6d9ce1538c2e","@sp":"c8a6bbe8de49314b","RequestMethod":"GET","RequestPath":"/api/restaurants","StatusCode":200,"Elapsed":408.5378,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:40:07.5118042Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1.7197"],"@tr":"fdeafe4f83ea6f0177f695b61f133362","@sp":"92c49a49c5211233","RequestMethod":"GET","RequestPath":"/api/restaurants/12","StatusCode":403,"Elapsed":1.7197,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:40:10.5149165Z","@mt":"Getting all restaurants","@tr":"b9cfe7c77b2e2083825f4ea8b7d13e13","@sp":"741979dd6d294a4f","SourceContext":"Restaurants.Application.Restaurants.Queries.GetAllRestaurants.GetAllRestaurantsQueryHandler","ActionId":"a28ee16c-d527-4138-8c45-3e562f9946ff","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetAll (Restaurants.API)","RequestId":"0HND8BQBKQOIK:00000004","RequestPath":"/api/restaurants","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:40:10.5231676Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"b9cfe7c77b2e2083825f4ea8b7d13e13","@sp":"741979dd6d294a4f","elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[Address_City], [r].[Address_PostalCode], [r].[Address_Street]\r\nFROM [Restaurants] AS [r]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a28ee16c-d527-4138-8c45-3e562f9946ff","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetAll (Restaurants.API)","RequestId":"0HND8BQBKQOIK:00000004","RequestPath":"/api/restaurants","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:40:10.5320524Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["29.8331"],"@tr":"b9cfe7c77b2e2083825f4ea8b7d13e13","@sp":"741979dd6d294a4f","RequestMethod":"GET","RequestPath":"/api/restaurants","StatusCode":200,"Elapsed":29.8331,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:40:25.5069633Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["0.4193"],"@tr":"0f70fd2521db930b844e70fda6c58fc3","@sp":"c578c75502d6e0cc","RequestMethod":"GET","RequestPath":"/api/restaurants/12","StatusCode":403,"Elapsed":0.4193,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:40:51.1830420Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["0.2906"],"@tr":"47a87e132d1c13bd3dd73dc72c6d8440","@sp":"57d91612e4880e64","RequestMethod":"GET","RequestPath":"/api/restaurants/12","StatusCode":403,"Elapsed":0.2906,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:41:54.4329330Z","@mt":"Actualizando usuario: {userId} con {@Request}","@tr":"b04d137476d8894c8136fc35a9e0ffe8","@sp":"9830e3182ff74d48","userId":"b70b5d44-e18b-4e01-ab0e-7fc2c2db5706","Request":{"DateOfBirth":"2000-02-01","Nationality":"Italiano","$type":"UpdateUserDetailsCommand"},"SourceContext":"Restaurants.Application.Users.Commands.UpdateUserDetails.UpdateUserDetailsCommandHandler","ActionId":"53e4d044-6771-41c4-a3d4-873516fd6486","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BQBKQOIK:00000007","RequestPath":"/api/identity/user","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:41:54.4873062Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"b04d137476d8894c8136fc35a9e0ffe8","@sp":"9830e3182ff74d48","elapsed":"4","parameters":"@__p_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"53e4d044-6771-41c4-a3d4-873516fd6486","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BQBKQOIK:00000007","RequestPath":"/api/identity/user","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:41:54.6124614Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"b04d137476d8894c8136fc35a9e0ffe8","@sp":"9830e3182ff74d48","elapsed":"8","parameters":"@p16='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Nullable = false) (Size = 450), @p0='0', @p1='91c5f713-d491-4401-8550-a8db5701e556' (Size = 4000), @p17='5393d326-8d7b-4cc7-a17b-8c9401c4cb8d' (Size = 4000), @p2='02/01/2000' (DbType = Date), @p3='test@gmail.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='Italiano' (Size = 4000), @p8='TEST@GMAIL.COM' (Size = 256), @p9='TEST@GMAIL.COM' (Size = 256), @p10='AQAAAAIAAYagAAAAEMOroMwO+2815v+kVZ8Dte4wTfg6WXnx6mF/BBsX1EgfmAXAkXMME9yHhcGrXZzswQ==' (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13='CLWU5DCXVTDTVFUG6XOASVZTUHWN6NMQ' (Size = 4000), @p14='False', @p15='test@gmail.com' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateOfBirth] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Nationality] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15\r\nOUTPUT 1\r\nWHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"53e4d044-6771-41c4-a3d4-873516fd6486","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BQBKQOIK:00000007","RequestPath":"/api/identity/user","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:41:54.6422158Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["258.0665"],"@tr":"b04d137476d8894c8136fc35a9e0ffe8","@sp":"9830e3182ff74d48","RequestMethod":"PATCH","RequestPath":"/api/identity/user","StatusCode":204,"Elapsed":258.0665,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:42:00.5974640Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["0.1647"],"@tr":"8903674034f8d74b44ed145ee29f1227","@sp":"4beb0b3fc33bd3e1","RequestMethod":"GET","RequestPath":"/api/restaurants/12","StatusCode":403,"Elapsed":0.1647,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:42:10.3278091Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"fbc19f3f7fcd35eaf3e3c0811f9a88a7","@sp":"3d3f047eca025834","elapsed":"7","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BQBKQOIK:00000009","RequestPath":"/api/identity/login","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:42:10.4411845Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"fbc19f3f7fcd35eaf3e3c0811f9a88a7","@sp":"3d3f047eca025834","elapsed":"3","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BQBKQOIK:00000009","RequestPath":"/api/identity/login","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:42:10.4550038Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"fbc19f3f7fcd35eaf3e3c0811f9a88a7","@sp":"3d3f047eca025834","elapsed":"6","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BQBKQOIK:00000009","RequestPath":"/api/identity/login","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:42:10.4615754Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["148.4016"],"@tr":"fbc19f3f7fcd35eaf3e3c0811f9a88a7","@sp":"3d3f047eca025834","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":148.4016,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:42:35.0437273Z","@mt":"Get restaurant: {RestaurantId}","@tr":"bfbca5c776e2b6c56ae6879f57b019d9","@sp":"841c8a4ab223e035","RestaurantId":12,"SourceContext":"Restaurants.Application.Restaurants.Queries.GetRestaurantById.GetRestaurantByIdQueryHandler","ActionId":"22158a1f-1f8c-4554-b70b-f10e27ff8d76","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetById (Restaurants.API)","RequestId":"0HND8BQBKQOIK:0000000A","RequestPath":"/api/restaurants/12","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:42:35.1241683Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"bfbca5c776e2b6c56ae6879f57b019d9","@sp":"841c8a4ab223e035","elapsed":"7","parameters":"@__id_0='12'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [r0].[Id], [r0].[Category], [r0].[ContactEmail], [r0].[ContactNumber], [r0].[Description], [r0].[HasDelivery], [r0].[Name], [r0].[Address_City], [r0].[Address_PostalCode], [r0].[Address_Street], [d].[Id], [d].[Description], [d].[KiloCalories], [d].[Name], [d].[Price], [d].[RestaurantId]\r\nFROM (\r\n    SELECT TOP(1) [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[Address_City], [r].[Address_PostalCode], [r].[Address_Street]\r\n    FROM [Restaurants] AS [r]\r\n    WHERE [r].[Id] = @__id_0\r\n) AS [r0]\r\nLEFT JOIN [Dishes] AS [d] ON [r0].[Id] = [d].[RestaurantId]\r\nORDER BY [r0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"22158a1f-1f8c-4554-b70b-f10e27ff8d76","ActionName":"Restaurants.API.Controllers.RestaurantsController.GetById (Restaurants.API)","RequestId":"0HND8BQBKQOIK:0000000A","RequestPath":"/api/restaurants/12","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:42:35.1669384Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["5833.0083"],"@tr":"bfbca5c776e2b6c56ae6879f57b019d9","@sp":"841c8a4ab223e035","RequestMethod":"GET","RequestPath":"/api/restaurants/12","StatusCode":200,"Elapsed":5833.0083,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:42:35.1725680Z","@mt":"La solicitud [{Verb}] a {Path} tomó {Time} ms","@tr":"bfbca5c776e2b6c56ae6879f57b019d9","@sp":"841c8a4ab223e035","Verb":"GET","Path":"/api/restaurants/12","Time":5838,"SourceContext":"Restaurants.API.Middlewares.RequestTimeLoggingMiddleware","RequestId":"0HND8BQBKQOIK:0000000A","RequestPath":"/api/restaurants/12","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:42:55.7583057Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"0d2ca16f6cd8804e42f62b88db72d431","@sp":"0ad0fcb6b51e51c5","Email":"b70b5d44-e18b-4e01-ab0e-7fc2c2db5706","DOB":"2000-01-01","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BQBKQOIK:0000000B","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:42:55.7702375Z","@mt":"Authorization succeded","@l":"Warning","@tr":"0d2ca16f6cd8804e42f62b88db72d431","@sp":"0ad0fcb6b51e51c5","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BQBKQOIK:0000000B","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BQBKQOIK"}
{"@t":"2025-06-10T20:42:55.7723966Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["14.3767"],"@tr":"0d2ca16f6cd8804e42f62b88db72d431","@sp":"0ad0fcb6b51e51c5","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":403,"Elapsed":14.3767,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:44:38.0436075Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:44:38.1816691Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:44:38.2023130Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T20:44:38.8650439Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"35","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:44:39.2752453Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"10","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:44:39.3024525Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T20:44:40.5939468Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"c317911d22dbe4b8a1ea3cef390084d6","@sp":"6508de6822ddcf91","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND8BUFGD17F:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:44:40.6649612Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"c317911d22dbe4b8a1ea3cef390084d6","@sp":"6508de6822ddcf91","Email":"b70b5d44-e18b-4e01-ab0e-7fc2c2db5706","DOB":"2000-01-01","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BUFGD17F:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:44:40.6741924Z","@mt":"Authorization succeded","@l":"Warning","@tr":"c317911d22dbe4b8a1ea3cef390084d6","@sp":"6508de6822ddcf91","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BUFGD17F:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:44:40.9288890Z","@mt":"Recibiendo los platos del restaurant con id {restaurantId}","@tr":"c317911d22dbe4b8a1ea3cef390084d6","@sp":"6508de6822ddcf91","restaurantId":12,"SourceContext":"Restaurants.Application.Dishes.Queries.GetDishesForRestaurant.GetDishesForRestaurantQueryHandler","ActionId":"07a07d53-ae9b-4617-97f7-592b1cfcc1bb","ActionName":"Restaurants.API.Controllers.DishesController.GetAllForRestaurant (Restaurants.API)","RequestId":"0HND8BUFGD17F:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:44:41.0888123Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["58.7257"],"@tr":"e08f94c0301980cf3234497d5280bbf6","@sp":"8f11ec7f9b1c8a98","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":58.7257,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:44:41.3830580Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"c317911d22dbe4b8a1ea3cef390084d6","@sp":"6508de6822ddcf91","elapsed":"70","parameters":"@__id_0='12'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [r0].[Id], [r0].[Category], [r0].[ContactEmail], [r0].[ContactNumber], [r0].[Description], [r0].[HasDelivery], [r0].[Name], [r0].[Address_City], [r0].[Address_PostalCode], [r0].[Address_Street], [d].[Id], [d].[Description], [d].[KiloCalories], [d].[Name], [d].[Price], [d].[RestaurantId]\r\nFROM (\r\n    SELECT TOP(1) [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[Address_City], [r].[Address_PostalCode], [r].[Address_Street]\r\n    FROM [Restaurants] AS [r]\r\n    WHERE [r].[Id] = @__id_0\r\n) AS [r0]\r\nLEFT JOIN [Dishes] AS [d] ON [r0].[Id] = [d].[RestaurantId]\r\nORDER BY [r0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"07a07d53-ae9b-4617-97f7-592b1cfcc1bb","ActionName":"Restaurants.API.Controllers.DishesController.GetAllForRestaurant (Restaurants.API)","RequestId":"0HND8BUFGD17F:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:44:41.5873748Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1022.0060"],"@tr":"c317911d22dbe4b8a1ea3cef390084d6","@sp":"6508de6822ddcf91","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":200,"Elapsed":1022.006,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:44:56.5012333Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6d3d04581b8bc75629bfd6f35622d54f","@sp":"4badf86ea726a762","elapsed":"4","parameters":"@__normalizedUserName_0='OWNER@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BUFGD17F:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:44:56.7146248Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6d3d04581b8bc75629bfd6f35622d54f","@sp":"4badf86ea726a762","elapsed":"3","parameters":"@__user_Id_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BUFGD17F:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:44:56.7518052Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6d3d04581b8bc75629bfd6f35622d54f","@sp":"4badf86ea726a762","elapsed":"3","parameters":"@__userId_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BUFGD17F:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:44:56.7734333Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6d3d04581b8bc75629bfd6f35622d54f","@sp":"4badf86ea726a762","elapsed":"2","parameters":"@__normalizedName_0='OWNER' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BUFGD17F:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:44:56.8042045Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"6d3d04581b8bc75629bfd6f35622d54f","@sp":"4badf86ea726a762","elapsed":"3","parameters":"@__role_Id_0='84fff6e3-06b7-481e-a096-5f1eb8b59366' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[ClaimType], [a].[ClaimValue]\r\nFROM [AspNetRoleClaims] AS [a]\r\nWHERE [a].[RoleId] = @__role_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BUFGD17F:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:44:56.8276599Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["457.3936"],"@tr":"6d3d04581b8bc75629bfd6f35622d54f","@sp":"4badf86ea726a762","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":457.3936,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:45:26.1790900Z","@mt":"Actualizando usuario: {userId} con {@Request}","@tr":"5a859694df4cfe9ad5c650a673f53b8f","@sp":"974c0f89e63bd2d8","userId":"5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2","Request":{"DateOfBirth":"2010-06-01","Nationality":"French","$type":"UpdateUserDetailsCommand"},"SourceContext":"Restaurants.Application.Users.Commands.UpdateUserDetails.UpdateUserDetailsCommandHandler","ActionId":"2de0417a-e5ad-4caa-b174-ce3d827df672","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BUFGD17F:00000003","RequestPath":"/api/identity/user","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:45:26.2181247Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"5a859694df4cfe9ad5c650a673f53b8f","@sp":"974c0f89e63bd2d8","elapsed":"3","parameters":"@__p_0='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2de0417a-e5ad-4caa-b174-ce3d827df672","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BUFGD17F:00000003","RequestPath":"/api/identity/user","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:45:26.3642773Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"5a859694df4cfe9ad5c650a673f53b8f","@sp":"974c0f89e63bd2d8","elapsed":"8","parameters":"@p16='5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2' (Nullable = false) (Size = 450), @p0='0', @p1='cb9bef90-a94c-4981-b495-2bcc6136cbf9' (Size = 4000), @p17='b5cd85b8-2a71-4d43-a0c8-10c2f72b6b6a' (Size = 4000), @p2='06/01/2010' (DbType = Date), @p3='owner@gmail.com' (Size = 256), @p4='False', @p5='True', @p6=NULL (DbType = DateTimeOffset), @p7='French' (Size = 4000), @p8='OWNER@GMAIL.COM' (Size = 256), @p9='OWNER@GMAIL.COM' (Size = 256), @p10='AQAAAAIAAYagAAAAEI8I/ZHQeHQMQQbrZknYvgMJ+mVxvbpErN6cFcVTBUErAJ/JlESORc4JN32Yr0Bjow==' (Size = 4000), @p11=NULL (Size = 4000), @p12='False', @p13='6OU7QIOZJSLYFLOSJT7BUIQBT5UHXBPN' (Size = 4000), @p14='False', @p15='owner@gmail.com' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [DateOfBirth] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Nationality] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15\r\nOUTPUT 1\r\nWHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"2de0417a-e5ad-4caa-b174-ce3d827df672","ActionName":"Restaurants.API.Controllers.IdentityController.UpdateUserDetails (Restaurants.API)","RequestId":"0HND8BUFGD17F:00000003","RequestPath":"/api/identity/user","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:45:26.3877918Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["245.6241"],"@tr":"5a859694df4cfe9ad5c650a673f53b8f","@sp":"974c0f89e63bd2d8","RequestMethod":"PATCH","RequestPath":"/api/identity/user","StatusCode":204,"Elapsed":245.6241,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:45:36.8232958Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"ca2b9d55f1b63e4db3116b0aa6b77416","@sp":"7e7b0a2d481a5aad","elapsed":"5","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BUFGD17F:00000004","RequestPath":"/api/identity/login","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:45:36.9323569Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"ca2b9d55f1b63e4db3116b0aa6b77416","@sp":"7e7b0a2d481a5aad","elapsed":"4","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BUFGD17F:00000004","RequestPath":"/api/identity/login","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:45:36.9521037Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"ca2b9d55f1b63e4db3116b0aa6b77416","@sp":"7e7b0a2d481a5aad","elapsed":"3","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BUFGD17F:00000004","RequestPath":"/api/identity/login","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:45:36.9602032Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["149.4091"],"@tr":"ca2b9d55f1b63e4db3116b0aa6b77416","@sp":"7e7b0a2d481a5aad","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":149.4091,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:45:52.9363001Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"a739d7f292b579241ce1029f85624b9b","@sp":"97bfd27709c9e5a8","Email":"5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2","DOB":"2010-01-01","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BUFGD17F:00000005","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:45:52.9441447Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["11.9633"],"@tr":"a739d7f292b579241ce1029f85624b9b","@sp":"97bfd27709c9e5a8","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":403,"Elapsed":11.9633,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:45:55.8903747Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["3.5406"],"@tr":"f2158f1617405801c4d3c2ad58f5b7f5","@sp":"5cac6fe061f532c1","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes/6","StatusCode":401,"Elapsed":3.5406,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:46:01.5641584Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["0.3397"],"@tr":"8c4d2293b777ea7bde8465d18f034553","@sp":"2595182c2320573f","RequestMethod":"DELETE","RequestPath":"/api/restaurants/12/dishes/6","StatusCode":401,"Elapsed":0.3397,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:47:48.6987556Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["102742.7253"],"@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler.HandleRequirementAsync(AuthorizationHandlerContext context, MinimumAgeRequirement requirement) in C:\\Users\\UserNew\\Documents\\Test\\Net8_RestaurantAPI\\Restaurant.Infrastucture\\Authorization\\Requirements\\MinimumAgeRequirementHandler.cs:line 13\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)\r\n   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)\r\n   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"6e019c3649cbd8926e9f186376294888","@sp":"f020ab576d9aa786","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":500,"Elapsed":102742.7253,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:47:53.3468866Z","@mt":"Object reference not set to an instance of an object.","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler.HandleRequirementAsync(AuthorizationHandlerContext context, MinimumAgeRequirement requirement) in C:\\Users\\UserNew\\Documents\\Test\\Net8_RestaurantAPI\\Restaurant.Infrastucture\\Authorization\\Requirements\\MinimumAgeRequirementHandler.cs:line 13\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationHandler`1.HandleAsync(AuthorizationHandlerContext context)\r\n   at Microsoft.AspNetCore.Authorization.DefaultAuthorizationService.AuthorizeAsync(ClaimsPrincipal user, Object resource, IEnumerable`1 requirements)\r\n   at Microsoft.AspNetCore.Authorization.Policy.PolicyEvaluator.AuthorizeAsync(AuthorizationPolicy policy, AuthenticateResult authenticationResult, HttpContext context, Object resource)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Restaurants.API.Middlewares.RequestTimeLoggingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\Users\\UserNew\\Documents\\Test\\Net8_RestaurantAPI\\Restaurants.API\\Middlewares\\RequestTimeLoggingMiddleware.cs:line 10\r\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Restaurants.API.Middlewares.ErrorHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\Users\\UserNew\\Documents\\Test\\Net8_RestaurantAPI\\Restaurants.API\\Middlewares\\ErrorHandlingMiddleware.cs:line 11","@tr":"6e019c3649cbd8926e9f186376294888","@sp":"f020ab576d9aa786","SourceContext":"Restaurants.API.Middlewares.ErrorHandlingMiddleware","RequestId":"0HND8BUFGD17F:00000008","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BUFGD17F"}
{"@t":"2025-06-10T20:48:35.4610613Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"d562e5f4fa174290a0bc73364227bf44","@sp":"a7ff3bdc8dc41d2c","Email":"5ba8e9d2-68d6-43fa-b5f7-0b419ec551a2","DOB":"2010-01-01","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8BUFGD17G:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8BUFGD17G"}
{"@t":"2025-06-10T20:48:35.4734449Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["17.0617"],"@tr":"d562e5f4fa174290a0bc73364227bf44","@sp":"a7ff3bdc8dc41d2c","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":403,"Elapsed":17.0617,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T20:58:24.9228862Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"cda64c31f9579cc42953707119acc4be","@sp":"3ee11fa4d8bbb32d","elapsed":"13","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BUFGD17H:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BUFGD17H"}
{"@t":"2025-06-10T20:58:25.1940045Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"cda64c31f9579cc42953707119acc4be","@sp":"3ee11fa4d8bbb32d","elapsed":"15","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BUFGD17H:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BUFGD17H"}
{"@t":"2025-06-10T20:58:25.2233008Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"cda64c31f9579cc42953707119acc4be","@sp":"3ee11fa4d8bbb32d","elapsed":"15","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8BUFGD17H:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8BUFGD17H"}
{"@t":"2025-06-10T20:58:25.2332814Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["419.7234"],"@tr":"cda64c31f9579cc42953707119acc4be","@sp":"3ee11fa4d8bbb32d","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":419.7234,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:21:03.0558972Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:21:03.2067704Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:21:03.2266564Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:21:03.8679139Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"35","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:21:04.3001374Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"11","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:21:04.3278611Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:21:06.0120326Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"aec08aaedcf6ff574bbd953990964215","@sp":"7101b99709a27cf0","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND8CIQN1CE6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8CIQN1CE6"}
{"@t":"2025-06-10T21:21:06.5603570Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"aec08aaedcf6ff574bbd953990964215","@sp":"7101b99709a27cf0","elapsed":"80","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CIQN1CE6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8CIQN1CE6"}
{"@t":"2025-06-10T21:21:06.6329522Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["97.6217"],"@tr":"0db23251b066b92e3ad659ff316ad449","@sp":"2a74a597583409c1","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":97.6217,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:21:07.0338154Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"aec08aaedcf6ff574bbd953990964215","@sp":"7101b99709a27cf0","elapsed":"3","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CIQN1CE6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8CIQN1CE6"}
{"@t":"2025-06-10T21:21:07.0749294Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"aec08aaedcf6ff574bbd953990964215","@sp":"7101b99709a27cf0","elapsed":"4","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CIQN1CE6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8CIQN1CE6"}
{"@t":"2025-06-10T21:21:07.1078202Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1112.4988"],"@tr":"aec08aaedcf6ff574bbd953990964215","@sp":"7101b99709a27cf0","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":1112.4988,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:21:26.8375606Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"495e2c9c043917d4c09a605cba6372c9","@sp":"971a04091180e64e","Email":"b70b5d44-e18b-4e01-ab0e-7fc2c2db5706","DOB":"2000-01-01","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8CIQN1CE6:00000002","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CIQN1CE6"}
{"@t":"2025-06-10T21:21:26.8458796Z","@mt":"Authorization succeded","@l":"Warning","@tr":"495e2c9c043917d4c09a605cba6372c9","@sp":"971a04091180e64e","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8CIQN1CE6:00000002","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CIQN1CE6"}
{"@t":"2025-06-10T21:21:27.0326796Z","@mt":"Recibiendo los platos del restaurant con id {restaurantId}","@tr":"495e2c9c043917d4c09a605cba6372c9","@sp":"971a04091180e64e","restaurantId":12,"SourceContext":"Restaurants.Application.Dishes.Queries.GetDishesForRestaurant.GetDishesForRestaurantQueryHandler","ActionId":"777337e8-4759-49a5-afff-9c3a3d8dfb96","ActionName":"Restaurants.API.Controllers.DishesController.GetAllForRestaurant (Restaurants.API)","RequestId":"0HND8CIQN1CE6:00000002","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CIQN1CE6"}
{"@t":"2025-06-10T21:21:27.2490394Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"495e2c9c043917d4c09a605cba6372c9","@sp":"971a04091180e64e","elapsed":"5","parameters":"@__id_0='12'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [r0].[Id], [r0].[Category], [r0].[ContactEmail], [r0].[ContactNumber], [r0].[Description], [r0].[HasDelivery], [r0].[Name], [r0].[Address_City], [r0].[Address_PostalCode], [r0].[Address_Street], [d].[Id], [d].[Description], [d].[KiloCalories], [d].[Name], [d].[Price], [d].[RestaurantId]\r\nFROM (\r\n    SELECT TOP(1) [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[Address_City], [r].[Address_PostalCode], [r].[Address_Street]\r\n    FROM [Restaurants] AS [r]\r\n    WHERE [r].[Id] = @__id_0\r\n) AS [r0]\r\nLEFT JOIN [Dishes] AS [d] ON [r0].[Id] = [d].[RestaurantId]\r\nORDER BY [r0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"777337e8-4759-49a5-afff-9c3a3d8dfb96","ActionName":"Restaurants.API.Controllers.DishesController.GetAllForRestaurant (Restaurants.API)","RequestId":"0HND8CIQN1CE6:00000002","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CIQN1CE6"}
{"@t":"2025-06-10T21:21:27.3864806Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["560.3126"],"@tr":"495e2c9c043917d4c09a605cba6372c9","@sp":"971a04091180e64e","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":200,"Elapsed":560.3126,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:26:31.0426632Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:26:31.1844385Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:26:31.2049047Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:26:31.8568412Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"35","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:26:32.2517778Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"10","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:26:32.2826395Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"3","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:26:34.4086930Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["75.3645"],"@tr":"3c5422c2c03c5a0bb988395eb68786b9","@sp":"07249b2f0f9b949d","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":75.3645,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:26:44.0238765Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"beb3bcde0096042b802d40059ffb50e8","@sp":"8f2ee39f79fed7c2","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND8CLSF208B:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CLSF208B"}
{"@t":"2025-06-10T21:26:44.0445740Z","@mt":"El usuario no se ha encontrado","@l":"Warning","@tr":"beb3bcde0096042b802d40059ffb50e8","@sp":"8f2ee39f79fed7c2","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8CLSF208B:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CLSF208B"}
{"@t":"2025-06-10T21:26:44.0589349Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["45.1255"],"@tr":"beb3bcde0096042b802d40059ffb50e8","@sp":"8f2ee39f79fed7c2","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":401,"Elapsed":45.1255,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:26:49.6003340Z","@mt":"El usuario no se ha encontrado","@l":"Warning","@tr":"743886952600c27c16f22cddc8e69b7a","@sp":"b400e3f8a1333664","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8CLSF208B:00000002","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CLSF208B"}
{"@t":"2025-06-10T21:26:49.6046973Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["6.3967"],"@tr":"743886952600c27c16f22cddc8e69b7a","@sp":"b400e3f8a1333664","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":401,"Elapsed":6.3967,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:27:00.9149178Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"0ad8bf58a58614bbc21dcc43f2a1e270","@sp":"a28bff9ef4095591","elapsed":"58","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CLSF208B:00000003","RequestPath":"/api/identity/login","ConnectionId":"0HND8CLSF208B"}
{"@t":"2025-06-10T21:27:01.3170619Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"0ad8bf58a58614bbc21dcc43f2a1e270","@sp":"a28bff9ef4095591","elapsed":"6","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CLSF208B:00000003","RequestPath":"/api/identity/login","ConnectionId":"0HND8CLSF208B"}
{"@t":"2025-06-10T21:27:01.3822462Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"0ad8bf58a58614bbc21dcc43f2a1e270","@sp":"a28bff9ef4095591","elapsed":"10","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CLSF208B:00000003","RequestPath":"/api/identity/login","ConnectionId":"0HND8CLSF208B"}
{"@t":"2025-06-10T21:27:01.4223719Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["803.4896"],"@tr":"0ad8bf58a58614bbc21dcc43f2a1e270","@sp":"a28bff9ef4095591","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":803.4896,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:27:20.0676323Z","@mt":"El usuario no se ha encontrado","@l":"Warning","@tr":"156261d0f2a896ac9c9c2b7578fbc986","@sp":"d02559a4f33b5488","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8CLSF208B:00000004","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CLSF208B"}
{"@t":"2025-06-10T21:27:20.0749120Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["12.5282"],"@tr":"156261d0f2a896ac9c9c2b7578fbc986","@sp":"d02559a4f33b5488","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":401,"Elapsed":12.5282,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:27:26.6877801Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"4bc52e7eac609ff9c25fa9b345efc67d","@sp":"6d0db5a4293f64be","Email":"b70b5d44-e18b-4e01-ab0e-7fc2c2db5706","DOB":"2000-01-01","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8CLSF208B:00000005","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CLSF208B"}
{"@t":"2025-06-10T21:27:26.6959999Z","@mt":"Authorization succeded","@l":"Warning","@tr":"4bc52e7eac609ff9c25fa9b345efc67d","@sp":"6d0db5a4293f64be","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8CLSF208B:00000005","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CLSF208B"}
{"@t":"2025-06-10T21:27:26.9256478Z","@mt":"Recibiendo los platos del restaurant con id {restaurantId}","@tr":"4bc52e7eac609ff9c25fa9b345efc67d","@sp":"6d0db5a4293f64be","restaurantId":12,"SourceContext":"Restaurants.Application.Dishes.Queries.GetDishesForRestaurant.GetDishesForRestaurantQueryHandler","ActionId":"08c73972-a66a-4621-b435-f86c70f196f7","ActionName":"Restaurants.API.Controllers.DishesController.GetAllForRestaurant (Restaurants.API)","RequestId":"0HND8CLSF208B:00000005","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CLSF208B"}
{"@t":"2025-06-10T21:27:27.1671137Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"4bc52e7eac609ff9c25fa9b345efc67d","@sp":"6d0db5a4293f64be","elapsed":"8","parameters":"@__id_0='12'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [r0].[Id], [r0].[Category], [r0].[ContactEmail], [r0].[ContactNumber], [r0].[Description], [r0].[HasDelivery], [r0].[Name], [r0].[Address_City], [r0].[Address_PostalCode], [r0].[Address_Street], [d].[Id], [d].[Description], [d].[KiloCalories], [d].[Name], [d].[Price], [d].[RestaurantId]\r\nFROM (\r\n    SELECT TOP(1) [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[Address_City], [r].[Address_PostalCode], [r].[Address_Street]\r\n    FROM [Restaurants] AS [r]\r\n    WHERE [r].[Id] = @__id_0\r\n) AS [r0]\r\nLEFT JOIN [Dishes] AS [d] ON [r0].[Id] = [d].[RestaurantId]\r\nORDER BY [r0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"08c73972-a66a-4621-b435-f86c70f196f7","ActionName":"Restaurants.API.Controllers.DishesController.GetAllForRestaurant (Restaurants.API)","RequestId":"0HND8CLSF208B:00000005","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CLSF208B"}
{"@t":"2025-06-10T21:27:27.3558920Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["670.4010"],"@tr":"4bc52e7eac609ff9c25fa9b345efc67d","@sp":"6d0db5a4293f64be","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":200,"Elapsed":670.401,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:27:54.9782971Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:27:55.1529585Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:27:55.1800896Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:27:56.3663856Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"39","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:27:57.5870761Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"22","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:27:57.6358471Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"4","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:28:01.6792005Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["113.1560"],"@tr":"5022e46cb9683f6c00cd6e67db0d9c99","@sp":"c1d187ae5314fad0","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":113.156,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:28:25.3707098Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"66005366aa427cbdb5108bf000a87502","@sp":"41678997850c4d8c","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND8CMM6D4JL:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CMM6D4JL"}
{"@t":"2025-06-10T21:28:25.3970270Z","@mt":"Usuario: {Email}, Fecha de nacimiento: {DOB} - Handling MinimumAgeRequirement","@tr":"66005366aa427cbdb5108bf000a87502","@sp":"41678997850c4d8c","Email":"b70b5d44-e18b-4e01-ab0e-7fc2c2db5706","DOB":"2000-01-01","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8CMM6D4JL:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CMM6D4JL"}
{"@t":"2025-06-10T21:28:25.4068977Z","@mt":"Authorization succeded","@l":"Warning","@tr":"66005366aa427cbdb5108bf000a87502","@sp":"41678997850c4d8c","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8CMM6D4JL:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CMM6D4JL"}
{"@t":"2025-06-10T21:28:25.5940565Z","@mt":"Recibiendo los platos del restaurant con id {restaurantId}","@tr":"66005366aa427cbdb5108bf000a87502","@sp":"41678997850c4d8c","restaurantId":12,"SourceContext":"Restaurants.Application.Dishes.Queries.GetDishesForRestaurant.GetDishesForRestaurantQueryHandler","ActionId":"b9f5816a-2982-4687-ba49-07fd541d1518","ActionName":"Restaurants.API.Controllers.DishesController.GetAllForRestaurant (Restaurants.API)","RequestId":"0HND8CMM6D4JL:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CMM6D4JL"}
{"@t":"2025-06-10T21:28:25.9401360Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"66005366aa427cbdb5108bf000a87502","@sp":"41678997850c4d8c","elapsed":"51","parameters":"@__id_0='12'","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [r0].[Id], [r0].[Category], [r0].[ContactEmail], [r0].[ContactNumber], [r0].[Description], [r0].[HasDelivery], [r0].[Name], [r0].[Address_City], [r0].[Address_PostalCode], [r0].[Address_Street], [d].[Id], [d].[Description], [d].[KiloCalories], [d].[Name], [d].[Price], [d].[RestaurantId]\r\nFROM (\r\n    SELECT TOP(1) [r].[Id], [r].[Category], [r].[ContactEmail], [r].[ContactNumber], [r].[Description], [r].[HasDelivery], [r].[Name], [r].[Address_City], [r].[Address_PostalCode], [r].[Address_Street]\r\n    FROM [Restaurants] AS [r]\r\n    WHERE [r].[Id] = @__id_0\r\n) AS [r0]\r\nLEFT JOIN [Dishes] AS [d] ON [r0].[Id] = [d].[RestaurantId]\r\nORDER BY [r0].[Id]","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b9f5816a-2982-4687-ba49-07fd541d1518","ActionName":"Restaurants.API.Controllers.DishesController.GetAllForRestaurant (Restaurants.API)","RequestId":"0HND8CMM6D4JL:00000001","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CMM6D4JL"}
{"@t":"2025-06-10T21:28:26.1427152Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["784.4886"],"@tr":"66005366aa427cbdb5108bf000a87502","@sp":"41678997850c4d8c","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":200,"Elapsed":784.4886,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:28:32.1113024Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"eac2842af24e51feeba1765a7932f9b0","@sp":"ad5d55c799c4cd2a","elapsed":"13","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CMM6D4JL:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND8CMM6D4JL"}
{"@t":"2025-06-10T21:28:32.5203041Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"eac2842af24e51feeba1765a7932f9b0","@sp":"ad5d55c799c4cd2a","elapsed":"5","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CMM6D4JL:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND8CMM6D4JL"}
{"@t":"2025-06-10T21:28:32.5953772Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"eac2842af24e51feeba1765a7932f9b0","@sp":"ad5d55c799c4cd2a","elapsed":"5","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CMM6D4JL:00000002","RequestPath":"/api/identity/login","ConnectionId":"0HND8CMM6D4JL"}
{"@t":"2025-06-10T21:28:32.6472966Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["814.6616"],"@tr":"eac2842af24e51feeba1765a7932f9b0","@sp":"ad5d55c799c4cd2a","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":814.6616,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:42:50.4157656Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:42:50.5621120Z","@mt":"The entity type '{entityType}' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.","@l":"Warning","entityType":"Address","EventId":{"Id":20606,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.OptionalDependentWithoutIdentifyingPropertyWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:42:50.5825624Z","@mt":"No store type was specified for the decimal property '{property}' on entity type '{entityType}'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.","@l":"Warning","property":"Price","entityType":"Dish","EventId":{"Id":30000,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.DecimalTypeDefaultWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2025-06-10T21:42:51.2179112Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"34","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT 1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:42:51.6030534Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"10","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [Restaurants] AS [r]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:42:51.6308896Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT CASE\r\n    WHEN EXISTS (\r\n        SELECT 1\r\n        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)\r\n    ELSE CAST(0 AS bit)\r\nEND","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-06-10T21:42:53.3660430Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["39.3687"],"@tr":"37049330ad9de38a8c42a3257da8e16c","@sp":"b56f2cd67267453a","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":39.3687,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:43:14.0076570Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"adfd753036cc4f428fb76c1c563e264a","@sp":"d9fa53ff1bec8297","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HND8CV0ALNR6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8CV0ALNR6"}
{"@t":"2025-06-10T21:43:14.2647841Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"adfd753036cc4f428fb76c1c563e264a","@sp":"d9fa53ff1bec8297","elapsed":"72","parameters":"@__normalizedUserName_0='TEST@GMAIL.COM' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[DateOfBirth], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[Nationality], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CV0ALNR6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8CV0ALNR6"}
{"@t":"2025-06-10T21:43:14.5749014Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"adfd753036cc4f428fb76c1c563e264a","@sp":"d9fa53ff1bec8297","elapsed":"6","parameters":"@__user_Id_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]\r\nFROM [AspNetUserClaims] AS [a]\r\nWHERE [a].[UserId] = @__user_Id_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CV0ALNR6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8CV0ALNR6"}
{"@t":"2025-06-10T21:43:14.6165969Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@tr":"adfd753036cc4f428fb76c1c563e264a","@sp":"d9fa53ff1bec8297","elapsed":"3","parameters":"@__userId_0='b70b5d44-e18b-4e01-ab0e-7fc2c2db5706' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HND8CV0ALNR6:00000001","RequestPath":"/api/identity/login","ConnectionId":"0HND8CV0ALNR6"}
{"@t":"2025-06-10T21:43:14.6484120Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["653.4543"],"@tr":"adfd753036cc4f428fb76c1c563e264a","@sp":"d9fa53ff1bec8297","RequestMethod":"POST","RequestPath":"/api/identity/login","StatusCode":200,"Elapsed":653.4543,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
{"@t":"2025-06-10T21:43:37.2883177Z","@mt":"El usuario no se ha encontrado","@l":"Warning","@tr":"511da84d25af41fbb9e03a3892fb8065","@sp":"902feaa084ccf9e8","SourceContext":"Restaurants.Infrastucture.Authorization.Requirements.MinimumAgeRequirementHandler","RequestId":"0HND8CV0ALNR6:00000002","RequestPath":"/api/restaurants/12/dishes","ConnectionId":"0HND8CV0ALNR6"}
{"@t":"2025-06-10T21:43:37.2950719Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["16.6528"],"@tr":"511da84d25af41fbb9e03a3892fb8065","@sp":"902feaa084ccf9e8","RequestMethod":"GET","RequestPath":"/api/restaurants/12/dishes","StatusCode":401,"Elapsed":16.6528,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
